# 网站爬取项目目录结构规范化方案

## 一、当前问题分析

当前工作区的文件结构较为杂乱，所有文件都存放在根目录下，没有明确的分类和层级关系。这种结构不利于项目的维护和扩展，特别是当项目规模扩大时，会导致文件管理困难。

## 二、目录结构设计原则

1. **清晰的分类**：明确区分不同类型的资源
2. **逻辑的层级**：建立合理的目录层级关系
3. **统一的命名**：制定一致的命名规范
4. **易于维护**：便于查找、更新和扩展
5. **符合行业惯例**：遵循常见的项目结构设计

## 三、规范化目录结构方案

### 3.1 总体目录结构

```
website-crawler/
├── src/                 # 源代码目录
│   ├── main.py          # 主程序入口
│   ├── crawler/         # 爬虫核心模块
│   │   ├── __init__.py
│   │   ├── spider.py     # 爬虫实现
│   │   ├── parser.py     # 内容解析器
│   │   ├── downloader.py # 资源下载器
│   │   └── transformer.py # HTML到Markdown转换器
│   ├── utils/           # 工具函数
│   │   ├── __init__.py
│   │   ├── url_utils.py  # URL处理工具
│   │   ├── file_utils.py # 文件处理工具
│   │   └── log_utils.py  # 日志工具
│   └── config/          # 配置模块
│       ├── __init__.py
│       └── settings.py   # 配置文件
├── config/              # 配置文件目录
│   ├── doc_id_map.json  # 文档ID与文件名映射表
│   └── crawl_config.json # 爬取配置文件
├── data/                # 数据存储目录
│   ├── markdown/        # 爬取的Markdown文档
│   │   ├── 读前须知.md
│   │   ├── 更新日志.md
│   │   └── ...
│   └── images/          # 下载的图片资源
│       ├── 1234567890abcdef.png
│       └── ...
├── logs/                # 日志文件目录
│   ├── crawl_log.txt    # 爬取日志
│   └── error_log.txt    # 错误日志
├── docs/                # 文档资料目录
│   ├── 网站爬取执行计划.md
│   ├── 网站导航结构报告.md
│   ├── 页面分析报告.md
│   ├── 项目进度管理计划.md
│   ├── 成果物自检规范.md
│   ├── 成果物收集表.md
│   └── 人工审议意见表.md
├── tests/               # 测试目录
│   ├── test_spider.py
│   ├── test_parser.py
│   └── test_transformer.py
├── requirements.txt     # 第三方依赖列表
├── README.md            # 项目说明文档
└── .gitignore           # Git忽略文件
```

### 3.2 目录功能说明

| 目录 | 功能描述 |
|------|----------|
| src/ | 存放项目的所有源代码，按功能模块组织 |
| config/ | 存放项目的配置文件，便于集中管理和修改 |
| data/ | 存放爬取的数据，包括Markdown文档和图片资源 |
| logs/ | 存放项目运行产生的日志文件 |
| docs/ | 存放项目的文档资料，包括执行计划、报告和管理文件 |
| tests/ | 存放项目的测试代码，用于验证功能正确性 |

### 3.3 文件命名规范

1. **源代码文件**：使用小写字母和下划线组合，如`spider.py`
2. **配置文件**：使用小写字母和下划线组合，如`doc_id_map.json`
3. **数据文件**：
   - Markdown文档：使用中文标题，如`读前须知.md`
   - 图片文件：使用URL哈希值，如`1234567890abcdef.png`
4. **日志文件**：使用描述性名称，如`crawl_log.txt`
5. **文档资料**：使用中文标题，如`网站爬取执行计划.md`

## 四、实施步骤

### 4.1 准备工作
1. 创建新的目录结构
2. 备份当前文件

### 4.2 迁移现有文件

| 现有文件 | 目标位置 |
|----------|----------|
| 网站爬取执行计划.md | docs/网站爬取执行计划.md |
| 网站导航结构报告.md | docs/网站导航结构报告.md |
| 页面分析报告.md | docs/页面分析报告.md |
| 读前须知.md | data/markdown/读前须知.md |
| 项目进度管理计划.md | docs/项目进度管理计划.md |
| 成果物自检规范.md | docs/成果物自检规范.md |
| 成果物收集表.md | docs/成果物收集表.md |
| 人工审议意见表.md | docs/人工审议意见表.md |

### 4.3 创建必要的新文件
1. 创建`requirements.txt`，列出项目依赖
2. 创建`README.md`，说明项目概况和使用方法
3. 创建`.gitignore`，定义Git忽略规则
4. 创建基本的源代码结构

### 4.4 更新文件引用关系
1. 更新`读前须知.md`中的链接，使其指向新的目录结构
2. 更新其他文档中的相对路径引用

### 4.5 测试新结构
1. 验证所有文件都能正常访问
2. 测试爬取功能是否正常工作
3. 验证日志和数据保存路径是否正确

## 五、维护与扩展

1. **新增文件规则**：所有新增文件必须按照目录结构和命名规范存放
2. **定期清理**：定期清理过期的日志和临时文件
3. **文档更新**：及时更新相关文档，保持文档与代码的一致性
4. **结构调整**：根据项目发展需要，适时调整目录结构

## 六、预期效果

通过实施规范化的目录结构方案，预期达到以下效果：

1. **文件分类清晰**：不同类型的资源存放在不同目录，便于查找和管理
2. **代码组织合理**：源代码按功能模块划分，提高代码的可维护性和可扩展性
3. **配置集中管理**：配置文件集中存放，便于统一修改和管理
4. **数据安全可靠**：数据文件与代码分离，便于备份和迁移
5. **文档完整统一**：所有文档集中存放，便于查阅和更新

这个目录结构方案符合常见的项目结构设计，能够有效解决当前根目录文件杂乱无章的问题，提升项目的可维护性和扩展性。